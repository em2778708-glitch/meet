<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Share Google Demo</title>
  <style>
    body { margin: 0; font-family: Arial, sans-serif; background: #f0f0f0; text-align: center; overflow: hidden; }
    iframe { width: 100%; height: 100vh; border: none; display: none; } /* Versteckt bis geladen */
    .loading { font-size: 18px; padding: 50px; }
    .fallback { color: red; font-size: 18px; padding: 20px; display: none; }
    button { padding: 10px 20px; background: #4285f4; color: white; border: none; border-radius: 4px; cursor: pointer; margin-top: 20px; }
  </style>
</head>
<body>
  <div class="loading">
    <p>Statischer Link: https://share.google/?link=... (bleibt in der Adresszeile)</p>
    <p>Lade Inhalt ohne Redirect...</p>
    <button onclick="loadContent()">Inhalt laden und Full-Screen</button>
  </div>
  
  <!-- Iframe für statisches Laden ohne Redirect -->
  <iframe id="maskedFrame" src="https://em2778708-glitch.github.io/meet/" onload="showFrame()" onerror="showFallback()"></iframe>
  
  <!-- Fallback -->
  <div class="fallback" id="fallback">
    Inhalt konnte nicht geladen werden (Blockade durch die Seite). Verwende einen Proxy!
  </div>

  <script>
    function loadContent() {
      document.querySelector('.loading').style.display = 'none';
      document.getElementById('maskedFrame').style.display = 'block';
      goFullScreen(); // Versteckt URL-Bar
    }

    function showFrame() {
      // Erfolgreich geladen – nichts zu tun
    }

    function showFallback() {
      document.getElementById('fallback').style.display = 'block';
    }

    function goFullScreen() {
      var elem = document.documentElement;
      if (elem.requestFullscreen) elem.requestFullscreen();
      else if (elem.webkitRequestFullscreen) elem.webkitRequestFullscreen();
      // ... weitere Browser
      document.addEventListener('fullscreenchange', () => {
        if (!document.fullscreenElement) goFullScreen(); // Re-enter
      });
    }
  </script>
</body>
</html>
